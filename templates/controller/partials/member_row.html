<tr id="member-{{ row.member.display_id() }}">
    <td class="mono">
        <a class="node-link"
           hx-get="/controller/{{ nwid }}/members/{{ row.member.display_id() }}/modal"
           hx-target="body"
           hx-swap="beforeend">
            {{ row.member.display_id() }}
        </a>
    </td>
    <td>{{ row.name }}</td>
    <td>
        {% if can_authorize %}
        <button
            class="btn btn-sm {{ row.member.auth_class() }}"
            hx-post="/controller/{{ nwid }}/members/{{ row.member.display_id() }}/authorize"
            hx-target="#member-{{ row.member.display_id() }}"
            hx-swap="outerHTML"
        >
            {{ row.member.auth_label() }}
        </button>
        {% else %}
        <button class="btn btn-sm {{ row.member.auth_class() }}" disabled style="opacity: 0.5; cursor: not-allowed;" title="No permission">
            {{ row.member.auth_label() }}
        </button>
        {% endif %}
    </td>
    <td>
        {% for ip in row.member.ip_assignments.iter() %}
        {% if !ip.contains(':') %}
        <span class="tag">{{ ip }}</span>
        {% endif %}
        {% endfor %}
        {% for ip in row.member.ip_assignments.iter() %}
        {% if ip.contains(':') %}
        <span class="tag">{{ ip }}</span>
        {% endif %}
        {% endfor %}
        {% match row.rfc4193_addr %}
        {% when Some with (addr) %}
        <span class="tag text-secondary">{{ addr }}</span>
        {% when None %}
        {% endmatch %}
        {% match row.sixplane_addr %}
        {% when Some with (addr) %}
        <span class="tag text-secondary">{{ addr }}</span>
        {% when None %}
        {% endmatch %}
        {% if row.member.ip_assignments.is_empty() && row.rfc4193_addr.is_none() && row.sixplane_addr.is_none() %}
        <span class="text-muted">-</span>
        {% endif %}
    </td>
    <td class="mono text-secondary">{{ row.member.display_version() }}</td>
    <td class="col-action">
        {% if can_modify %}
        <button
            class="btn btn-danger btn-sm"
            hx-delete="/controller/{{ nwid }}/members/{{ row.member.display_id() }}"
            hx-confirm="Remove member {{ row.member.display_id() }}?"
            hx-target="#member-{{ row.member.display_id() }}"
            hx-swap="outerHTML"
        >
            Remove
        </button>
        {% else %}
        <button class="btn btn-danger btn-sm" disabled style="opacity: 0.5; cursor: not-allowed;" title="No permission">
            Remove
        </button>
        {% endif %}
    </td>
</tr>
