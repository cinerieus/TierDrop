{% extends "base.html" %}

{% block title %}TierDrop{% endblock %}

{% block content %}
<div class="page-header">
    <div class="flex items-center justify-between">
        <div>
            <h2>Networks</h2>
        </div>
        <form hx-post="/controller/create" hx-target="body">
            <button type="submit" class="btn btn-primary btn-icon" title="Create Network">
                <svg class="htmx-hide-on-request" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg><span class="spinner htmx-indicator"></span>
            </button>
        </form>
    </div>
</div>

<div id="dashboard-stats"
     hx-get="/partials/dashboard"
     hx-trigger="sse:ctrl-networks-changed, sse:ctrl-members-changed, sse:status-changed, every 5s"
     hx-swap="innerHTML">
    {% include "partials/dashboard_stats.html" %}
</div>

<div class="card">
    <div id="dashboard-networks"
         hx-get="/partials/networks"
         hx-trigger="sse:ctrl-networks-changed, sse:ctrl-members-changed, every 5s"
         hx-swap="innerHTML">
        {% include "partials/dashboard_networks.html" %}
    </div>
</div>
{% endblock %}
